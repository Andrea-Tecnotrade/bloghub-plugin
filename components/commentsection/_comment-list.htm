
<div class="comment-list">
    {% macro renderRecursive(context, items, parent = null, level = 1) %}
        {% for comment in items %}
            {% if comment.status == 'pending' %}
                <div id="comment-{{ comment.id }}" class="comment-item comment-level-{{ level }} my-2">
                    {% partial '@_single' comment=comment %}
                </div>
            {% else %}
                <div id="comment-{{ comment.id }}" class="comment-item comment-level-{{ level }} my-2">
                    {% partial '@_single' comment=comment %}

                    {% if comment.children %}
                        {{ _self.renderRecursive(context, comments.children, comment, level + 1) }}
                    {% endif %}
                </div>
            {% endif %}
        {% endfor %}
    {% endmacro %}

    {{ _self.renderRecursive(_context, comments) }}

    {% if comments.lastPage > 1 %}
        {% partial '@_pagination' pagination=comments %}
    {% endif %}
</div>